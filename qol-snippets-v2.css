/* Import CSS */
@import url('https://Lelensz.github.io/Lens/simplepanelv1.css');
@import url('https://davart154.github.io/Themes/Snippets/Mana%20Page%20Switcher/ManaPageSwitcherSource.css');
@import url('https://raw.githubusercontent.com/Krammeth/css-snippets/refs/heads/main/CompactButtons.css');
@import url("https://raw.githubusercontent.com/yiruzu/vencord-snippets/refs/heads/main/snippets/BubbleUsernames/import.css");
@import url('https://Lelensz.github.io/Lens/BorderedEmbeds.css');
@import url("https://Lelensz.github.io/Lens/compactcommand.css");


/* Image Spoiler */
:root {
    --spoiler-blur-hover: 8px;
}
[class*="-attachmentContainer"][class*="-spoilerContent"] {
    background-color: unset;
    &[class*="-hiddenSpoiler"] {
        > [class*="-spoilerWarning"] {
            transition: opacity 50ms ease;
        }
        [class*="-imageContent"] {
            filter: none !important;
            [class*="-imageWrapper"] > [class*="-clickableWrapper"] {
                filter: blur(var(--custom-message-attachment-spoiler-blur-radius));
                transition: filter 80ms ease-out;
            }
        }
        &:hover {
            > [class*="-spoilerWarning"] {
                opacity: 0.2;
            }
            [class*="-imageWrapper"] > [class*="-clickableWrapper"] {
                filter: blur(var(--spoiler-blur-hover));
            }
        }
    }
}


/* Link Hover with Unread Badge Effect by Refactor */
:root {
  --list-item-transition: 0.3s ease;
}
._2ea32c412048f708-wrapper ._2ea32c412048f708-link {
  transition: margin-left var(--list-item-transition);
}
._2ea32c412048f708-unread {
  border-radius: 50%;
  width: 8px;
  height: 8px;
  background-color: var(--accent-3);
  transition: transform var(--list-item-transition), background var(--list-item-transition);
}
._2ea32c412048f708-wrapper:hover ._2ea32c412048f708-link {
  margin-left: 5px;
  opacity: 0.9;
}
._2ea32c412048f708-wrapper:hover ._2ea32c412048f708-unread {
  transform: scale(1.3);
  background: url('https://files.catbox.moe/q4oi4j.png?size=80') no-repeat center / contain;
}


/* UI CLEANUP â€“ REMOVE UNWANTED STUFF */
/* Remove certain message actions for a cleaner UI */
[aria-label*="Create Thread"], /* Hides thread creation button */
[aria-label*="Mark Unread"], /* Hides "Mark as Unread" button */
[aria-label*="Copy Link"], /* Hides the option to copy message link */
[aria-label*="Pin Message"], /* Hides the pin message button */
[aria-label*="Copy Message ID"] { /* Hides message ID copy option */
  display: none;
}


/* Snippets Remove / Hide unnecessary things */
._29444ba32c7fbeab-addButtonIcon,
 .c69b6db0641110f6-actionIcon,
 invitesRefresh_f37cb1 .f37cb1984c371ee5-inviteButton,
 .f37cb1984c371ee5-inviteButton,
 ._2d0abf0638bcaa3f-avatarPopover,
 .app-launcher-entrypoint,
 .f563df886a7377be-wrapper,
 ._85643a485899904b-button, _9293f6b2fc12398a-iconWrapper,
 ._133bf5eea8e33a34-nowPlayingColumn {
  display: none;
 }


/* Remove Reaction Right-Click Menu */
[id^="message-quickreact-"] {
  display: none !important;
}
#message>div>.f563df886a7377be-wrapper {
  display: none;
}

/* Remoove Activity Member List*/
[class*='membersGroup']:has([role=button]), /* Hides member group with buttons */
[class*='member'] [class*='container']:has([class*='badges']) { /* Hides member containers with badges */
  display: none;
}

/* Remove Quests on UserPanel */
section[class^="panels_"]>div[class^="mask_"] {
  display: none;
}

/* Fix Reduce Channel List Spacing */
[class="_2ea32c412048f708-link"] {
  padding-block: 1.5px;
}

/* fix profile bottom */
.visual-refresh ._49fc18ba07c5025f-focusLock ._9c3bea41fd465666-root .c0bea05627c5dc35-outer .c0bea05627c5dc35-inner {
  padding: 48px 36px 48px 48px;
}
.visual-refresh ._49fc18ba07c5025f-focusLock ._9c3bea41fd465666-root .c0bea05627c5dc35-outer .c0bea05627c5dc35-inner ._9c3bea41fd465666-profile {
  border-radius: var(--radius-lg) var(--radius-lg) var(--radius-lg) var(--radius-lg);
}

/* revert the input/output dropdowns user panel */
[class*="buttons"] [role="switch"] {
  border-radius: var(--radius-sm);
  ~ button:not([aria-label="User Settings"]) {
    display: none;
  }
}

/* Hide typing dots in chat bar */
[class*="ellipsis"] {
  display: none !important;
  & + span {
    margin-left: 1px !important;
  }
}

/* Server Tooltip */
[class*=tooltip] { 
    max-width: unset !important; 
}

/* Active Channel Highlight */
._2ea32c412048f708-modeSelected ._2ea32c412048f708-name {     
  color: var(--accent-2);
}

/* SNIPPETS ADDED */
/* ROLE COLOR PROFILE By Refact0r*/
.dfa8b6b94cddb191-role.dfa8b6b94cddb191-pill {
  position: relative;
  background: none;
  border: none;
  padding-left: 28px;
}
.dfa8b6b94cddb191-role.dfa8b6b94cddb191-pill > span {
  z-index: 1;
}
.dfa8b6b94cddb191-role.dfa8b6b94cddb191-pill .dfa8b6b94cddb191-roleRemoveButton {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  margin: 0 !important;
}
.dfa8b6b94cddb191-role.dfa8b6b94cddb191-pill ._4f569b8941af22d1-roleCircle {
    margin: 6px 8px;
}
.dfa8b6b94cddb191-role.dfa8b6b94cddb191-pill ._4f569b8941af22d1-roleCircle::before {
  content: '';
  display: block;
  position: absolute;
  background-color: inherit;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: var(--radius-xs);
  filter: brightness(1.1);
  opacity: 0.25;
}



/* Plain Folder Icon Size Pastel */
.expandedFolderIconWrapper__48112::after,
._48112cbe77dc5022-folderPreview::after {
  content: "";
  background-color: transparent;
  width: 24px;
  height: 24px;
  top: 60px;
  right: 12px;
  position: absolute;
  transition: opacity 0.2s ease;
  transform: scale(1.2);
}
._48112cbe77dc5022-folderPreview:hover::after {
  opacity: 0;
}
._48112cbe77dc5022-folderPreview > ._48112cbe77dc5022-folderPreviewGuildIcon {
  opacity: 0.5;
  filter: blur(2.2px);
  transition: opacity 0.2s ease, filter 0.2s ease !important;
}
._48112cbe77dc5022-folderPreview:hover > ._48112cbe77dc5022-folderPreviewGuildIcon {
  opacity: 1;
  filter: blur(0px);
}
.theme-dark .b18fe29d6fe8dd82-hiddenVisually[aria-expanded="false"] {
  background-color: #000000;
}


/* Better Compact Context Menu */
.c1e9c47c23f12ca3-menu:has(.c1e9c47c23f12ca3-scroller) {
  min-width: 0;
  width: 171px !important;
  &::after,.c1e9c47c23f12ca3-scroller {
      /* border margin */
      margin: -4px;
  }
  &::after,.c1e9c47c23f12ca3-separator {
      /* separator margin */
      margin: 1px 8px !important;
  }
  &::after,.f563df886a7377be-wrapper {
      /* reactions margin */
      padding: 0px !important;
      margin: 1px;
  }
  &::after,.c1e9c47c23f12ca3-item {
      /* min-height is 32px as default, change value for desired look */
      min-height: 0;
      /* padding is 4px 8px as default, change value for desired look */
      padding: 4px 8px;
  }
  &::after,.f563df886a7377be-icon {
      /* reactions size */
      width: 18px;
  }
  &::after,.f563df886a7377be-button {
      /* reactions border size */
      width: 36px;
      height: 36px;
      border-radius: 4px;
  }
  &::after,.c1e9c47c23f12ca3-icon {
      /* icons size */
      width: 18px;
      height: 18px;
  }
  &::after,.c1e9c47c23f12ca3-iconContainer {
      display: flex;
      justify-content: center;
      align-items: center;
  }
}


/* move profile button by obsidian */
.user-profile-modal-v2 ._9c3bea41fd465666-profile {
  anchor-name: --profile-anchor;
  --tooltip-bg: color-mix(in oklab, var(--neutral-79) 100%, var(--custom-theme-base-color, #000) var(--custom-theme-base-color-amount, 0%));
  --tooltip-border: color-mix(in oklab,hsl(var(--opacity-12-hsl)/0.12156862745098039) 100%,hsl(var(--custom-theme-base-color-hsl,0 0% 0%)/0.12156862745098039) var(--custom-theme-border-color-amount,var(--custom-theme-base-color-amount,0%)));
    /* Edit fill (for bg) and color (for border) to be the same as above. %23 is # */
  --arrow-svg: url("data:image/svg+xml,%3Csvg fill='%23242429' color='%23323237' width='16' height='10' viewBox='0 0 16 10' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath  d='M10.3426 7.0715C9.14163 8.57272 6.85837 8.57272 5.65739 7.0715L0 -0.000244141L16 -0.000244141L10.3426 7.0715Z'%3E%3C/path%3E%3Cpath stroke='currentColor' d='M9.93457 6.84546C8.93433 8.06766 7.06567 8.06766 6.06543 6.84546L0.0546875 -0.500244L15.9453 -0.500244L9.93457 6.84546Z'%3E%3C/path%3E%3C/svg%3E");
  
  ._9c3bea41fd465666-profileButtons {
    position: fixed;
    top: calc(anchor(--profile-anchor start) + 12px);
    right: calc(anchor(--profile-anchor end) + 12px);

    button {
      background: var(--redesign-button-overlay-alpha-background) !important;
      border: 1px solid var(--opacity-white-8) !important;
      border-radius: 50%;
      &:hover, &:active {
        background: var(--redesign-button-overlay-alpha-pressed-background) !important;
      }
    }
    >button {
      min-width: 32px !important;
      color: var(--button-secondary-text) !important;

      >.a22cb0c66246f5d3-buttonChildrenWrapper {
        overflow: visible;
        padding: 0 !important;
        >.a22cb0c66246f5d3-buttonChildren {
          overflow: visible;
          justify-content: center;
        }
      }
      ._4bd5201c86a2042b-lineClamp1 {
        align-items: center;
        position: absolute;
        top: -52px;
        
        background-color: var(--tooltip-bg);
        border-radius: var(--radius-sm);
        box-shadow: inset 0 0 0 1px var(--tooltip-border), var(--shadow-high);
        color: var(--text-default);
        padding: var(--space-8) var(--space-12);
        pointer-events: none;
        
        display: flex;
        justify-content: center;
        overflow: visible;

        will-change: opacity, transform;
        opacity: 0;
        transform: scale(0.95);
        transform-origin: 50% 100%;
        transition: opacity 0.1s ease, transform 0.1s ease;
        &::after {
          content: var(--arrow-svg);
          position: absolute;
          bottom: -13px;
        }
      }
      &:hover ._4bd5201c86a2042b-lineClamp1 {
        opacity: 1;
        transform: scale(1);
      }
    }
  }
}


/* Add PNG icons */
/* Friends */
[href="/channels/@me"] {
    ._20a53846fe2e8513-avatar svg {
        display: none !important;
    }
    ._20a53846fe2e8513-avatar::before {
        content: "";
        display: block;
        width: 20px;
        height: 20px;
        background: url("https://i.postimg.cc/HsyfSxpy/addfriend.png") no-repeat;
        transition: transform 0.3s ease, opacity 0.3s ease;
    }
    ._20a53846fe2e8513-avatar:hover::before {
        transform: scale(1.2);
        opacity: 0.8;
    }
}

/* Nitro Home */
[href="/store"] {
    ._20a53846fe2e8513-avatar svg {
        display: none !important;
    }
    ._20a53846fe2e8513-avatar::before {
        content: "";
        display: block;
        width: 20px;
        height: 20px;
        background: url("https://i.postimg.cc/HkGCHMSK/nitrohome.png") no-repeat;
        transition: transform 0.3s ease, opacity 0.3s ease;
    }
    ._20a53846fe2e8513-avatar:hover::before {
        transform: scale(1.2);
        opacity: 0.8;
    }
}

/* Message Request */
[href="/message-requests"] {
    ._20a53846fe2e8513-avatar svg {
        display: none !important;
    }
    ._20a53846fe2e8513-avatar::before {
        content: "";
        display: block;
        width: 20px;
        height: 20px;
        background: url("https://i.postimg.cc/SKLNVTjK/messg.png") no-repeat;
        transition: transform 0.3s ease, opacity 0.3s ease;
    }
    ._20a53846fe2e8513-avatar:hover::before {
        transform: scale(1.2);
        opacity: 0.8;
    }
}

/* Shop */
[href="/shop"] {
    ._20a53846fe2e8513-avatar svg {
        display: none !important;
    }
    ._20a53846fe2e8513-avatar::before {
        content: "";
        display: block;
        width: 20px;
        height: 20px;
        background: url("https://i.postimg.cc/wMsbbfdT/Shopes.png") no-repeat;
        transition: transform 0.3s ease, opacity 0.3s ease;
    }
    ._20a53846fe2e8513-avatar:hover::before {
        transform: scale(1.2);
        opacity: 0.8;
    }
}

/* Quest Home */
[href="/quest-home"] {
    ._20a53846fe2e8513-avatar svg {
        display: none !important;
    }
    ._20a53846fe2e8513-avatar::before {
        content: "";
        display: block;
        width: 20px;
        height: 20px;
        background: url("https://i.postimg.cc/wMQ5CfhQ/quest-orb.webp") no-repeat;
        transition: transform 0.3s ease, opacity 0.3s ease;
    }
    ._20a53846fe2e8513-avatar:hover::before {
        transform: scale(1.2);
        opacity: 0.8;
    }
}


/* Little Fix */
*:hover {
    color: var(--text-1) !important;
}

/* Remove 3 emoji reactions */
.f84418acfdbdfe54-hoverBarButton[aria-label^="Click to"],
.f84418acfdbdfe54-separator {
  display: none;
}

/* RAINBOW THREAD */
.d125d22cdfd32cfe-content > li._5b40bdd67543ba35-container > ul[role="group"] {
> ._5b40bdd67543ba35-spineBorder {
    --step: calc(var(--channels-name-line-height) + 10px);
    background: var(--thread-muted, repeating-linear-gradient(
      #824e62 calc(var(--step) * 0),
      #824e62 calc(var(--step) * 1),
      #866251 calc(var(--step) * 1),
      #866251 calc(var(--step) * 2),
      #857a65 calc(var(--step) * 2),
      #857a65 calc(var(--step) * 3),
      #5c7a5e calc(var(--step) * 3),
      #5c7a5e calc(var(--step) * 4),
      #4d638b calc(var(--step) * 4),
      #4d638b calc(var(--step) * 5),
      #6e5c89 calc(var(--step) * 5),
      #6e5c89 calc(var(--step) * 6))
    )
  }
> li {
    --interactive-hover: var(--thread-core, #f38ba8);
    --interactive-active: var(--thread-core, #f38ba8);
  }
> li:nth-of-type(6n + 1) {
    --channels-default: var(--thread-default, rgba(243, 139, 168, 0.7));
    --text-primary: var(--thread-core, #f38ba8);
    --interactive-muted: var(--thread-muted, #824e62);
  }
> li:nth-of-type(6n + 2) {
    --channels-default: var(--thread-default, rgba(250, 179, 135, 0.7));
    --text-primary: var(--thread-core, #fab387);
    --interactive-muted: var(--thread-muted, #866251);
  }
> li:nth-of-type(6n + 3) {
    --channels-default: var(--thread-default, rgba(249, 226, 175, 0.7));
    --text-primary: var(--thread-core, #f9e2af);
    --interactive-muted: var(--thread-muted, #857a65);
  }
> li:nth-of-type(6n + 4) {
    --channels-default: var(--thread-default, rgba(166, 227, 161, 0.7));
    --text-primary: var(--thread-core, #a6e3a1);
    --interactive-muted: var(--thread-muted, #5c7a5e);
  }
> li:nth-of-type(6n + 5) {
    --channels-default: var(--thread-default, rgba(137, 180, 250, 0.7));
    --text-primary: var(--thread-core, #89b4fa);
    --interactive-muted: var(--thread-muted, #4d638b);
  }
> li:nth-of-type(6n + 6) {
    --channels-default: var(--thread-default, rgba(203, 166, 247, 0.7));
    --text-primary: var(--thread-core, #cba6f7);
    --interactive-muted: var(--thread-muted, #6e5c89);
  }
  li:only-of-type {
    --channels-default: var(--thread-default, rgba(245, 194, 231, 0.7));
    --text-primary: var(--thread-core, #f5c2e7);
    --interactive-muted: var(--thread-muted, #836a81);
  }
}

/* hide nercessary button Chat bar */
div[aria-label="Send a gift"],
div[aria-label="Open GIF picker"],
div[aria-label="Open sticker picker"],
button[aria-label="Open Translate Modal"],
button[aria-label="Typing Hidden (Global)"] {
display: none;
}
